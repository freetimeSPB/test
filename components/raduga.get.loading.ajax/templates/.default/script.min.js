(function(){window.JCCatalogAjaxLoadingComponent||(window.JCCatalogAjaxLoadingComponent=function(a){this.siteId=a.siteId||"";this.wait=null;this.templatePath=a.templatePath||"";this.container=document.querySelector('[data-entity="'+a.container+'"]');this.componentName=a.componentName||"";this.componentTemplate=a.componentTemplate||"";this.componentParams=a.componentParams||[];this.functionsAfterInit=a.functionsAfterInit||[];this.runTimeout=a.runTimeout||0;this.onlyMobile=a.onlyMobile||"N";this.onlyDesktop=
a.onlyDesktop||"N";this.allowLoad=!0;if("Y"==this.onlyMobile||"Y"==this.onlyDesktop)this.width=BX.GetWindowInnerSize(),"Y"==this.onlyMobile&&767<this.width.innerWidth&&(this.allowLoad=!1),"Y"==this.onlyDesktop&&767>this.width.innerWidth&&(this.allowLoad=!1);this.allowLoad&&0<this.componentName.length&&0<this.componentTemplate.length&&BX.ready(BX.delegate(this.loadTargetComponent,this))},window.JCCatalogAjaxLoadingComponent.prototype={loadTargetComponent:function(){if(0<this.runTimeout){var a=this;
setTimeout(function(){a.makeAjaxCall()},this.runTimeout)}else this.makeAjaxCall()},makeAjaxCall:function(){var a={siteId:this.siteId,sessid:BX.bitrix_sessid(),get_loading_ajax:"Y",name:this.componentName,template:this.componentTemplate,data:this.componentParams},b=this;BX.ajax({url:this.templatePath+"/ajax.php",method:"POST",dataType:"html",timeout:60,data:a,onsuccess:BX.delegate(function(c){b.container.innerHTML=c;b.initJsFunctions()},this)})},initJsFunctions:function(){if(0<this.functionsAfterInit.length){var a;
for(a in this.functionsAfterInit){var b=this.functionsAfterInit[a];if("function"==typeof window[b])window[b]()}}},showWait:function(){this.wait||(this.wait=BX.create("div",{attrs:{id:"preheader-menu-wait"},children:[BX.create("span",{attrs:{className:"api-image"}}),BX.create("span",{attrs:{className:"api-bg"}})]}));BX.insertAfter(this.wait,this.containerBody);BX.show(this.wait)},hideWait:function(){BX.hide(this.wait)}})})();